<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <title>Chi tiết Đơn hàng</title>
</head>
<body>
    <div class="container mt-4">
        <h1>Chi tiết Đơn hàng #<span th:text="${order.orderId}"></span></h1>
        <table class="table table-bordered">
            <thead>
                <tr>
                    <th>Sản phẩm</th>
                    <th>Số lượng</th>
                    <th>Đơn giá</th>
                    <th>Thành tiền</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="detail : ${orderDetails}">
                    <td th:text="${detail.product.name}"></td> <!-- Lấy tên sản phẩm từ OrderDetail -->
                    <td th:text="${detail.quantity}"></td> <!-- Lấy số lượng từ OrderDetail -->
                    <td th:text="${detail.unitPrice}"></td> <!-- Lấy đơn giá từ OrderDetail -->
                    <td th:text="${detail.quantity * detail.unitPrice}"></td> <!-- Tính thành tiền -->
                </tr>
            </tbody>
            <tfoot>
                <tr>
                    <td colspan="3" class="text-end"><strong>Tổng tiền:</strong></td>
                    <td th:text="${order.amount}"></td> <!-- Lấy tổng tiền từ Order -->
                </tr>
            </tfoot>
        </table>
        <a href="/orders/list" class="btn btn-secondary">Quay lại</a>
    </div>
</body>
</html>
